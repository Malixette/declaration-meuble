{% extends 'commune-show.html.twig' %}

{% block title %}Inscription{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" type="text/css" href="{{asset('assets/css/inscription.css')}}">
    <style>
        html {
            height : 100%;
        }
        body{
            height: 100%;
        }
        .bg-warning {
        background-color: #FFD470 !important;
        }
        .bg-info {
            background-color: #5070B5 !important;
        }
        .bg-danger {
            background-color: #FF9166 !important;
        }
        .btn-danger {
            background-color: #FF9166 !important;
            border-color: #FF9166 !important;
        }
        .btn-success {
            background-color: #58CCB6 !important;
            border-color: #58CCB6 !important;
        }
        .btn-warning {
            background-color: #FFD470 !important;
            border-color: #FFD470 !important;
        }
        
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Oswald', sans-serif;
        }
        
        body {
            font-family: 'Open Sans', sans-serif;
            position: relative;
            padding-bottom : 0;
        }
        
        .navbar {
            background:rgba(255,255,255, 1);
        }
        
        ul, li {
            list-style : none;
        }
        a {
            text-decoration:none;
        }
        
        ::placeholder { /* Chrome, Firefox, Opera, Safari 10.1+ */
        color: Gainsboro !important;
        opacity: 1; /* Firefox */
        }
        
        :-ms-input-placeholder { /* Internet Explorer 10-11 */
            color: Gainsboro !important;
        }
        
        ::-ms-input-placeholder { /* Microsoft Edge */
            color: Gainsboro !important;
        }
        .navbar-light .navbar-nav .nav-link {
            color: #444;
            border-bottom: 2px solid #fff;
        }
        
        .navbar-light .navbar-nav .nav-link:focus, .navbar-light .navbar-nav .nav-link:hover {
            border-bottom: 2px solid #5070B5;
        }
                
    </style>
{% endblock %}

{% block header %}
{% endblock %}

{% block main %}

<h1 class="mt-5 pt-3 mb-4 text-center display-3 text-dark" id="titreinscription">Inscription</h1>

<div class="container">
    <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-8 col-xl-8 border border-secondary border-2 rounded pt-4 pl-4 pr-4 pb-2 mb-4">
            {#<form class="border border-secondary border-2 rounded pt-4 pl-4 pr-4 pb-2 mb-4">#}
                <div class="row">
                    {% for label, messages in app.flashes %}
                      <div class="alert alert-{{ label }}">
                          {% for message in messages %}
                              {{ message }}
                          {% endfor %}
                      </div>
                    {% endfor %}
                </div>
                
                {{ form_start(form)}}

                <p class="text-center">
                    <strong>Vous êtes propriétaire.</strong><br>
                    Inscrivez-vous pour gérer la déclaration de vos meublés partout en France.
                </p>
                <div class="row">
                    {{ form_errors(form) }}
                </div>
                <div class="row">
                    <div class="col-6">
                        <div class="form-group">
                            {{ form_label(form.user_nom)}} <small style="font-style:italic; color:red;"> Obligatoire</small>
                            {{ form_widget(form.user_nom)}}
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="form-group">
                            {{ form_label(form.user_prenom)}}
                            {{ form_widget(form.user_prenom)}}
                        </div>
                    </div>
                </div> 
                <div class="row">
                    <div class="col-12">
                        {{ form_errors(form.user_email) }}
                        {{ form_label(form.user_email)}} <small style="font-style:italic; color:red;"> Obligatoire</small>
                        {{ form_widget(form.user_email)}}
                    </div>
                </div> 
                {#<div class="row">#}
                {#    <div class="col-12">#}
                {#        {{ form_errors(form.username)}}#}
                {#        {{ form_label(form.username)}} <small style="font-style:italic; color:red;"> Obligatoire</small>#}
                {#        {{ form_widget(form.username)}}#}
                {#    </div>#}
                {#</div>#}
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            Mot de passe :<small style="font-style:italic; color:red;"> Obligatoire</small>{{ form_row(form.password.first)}}
                            
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            Vérifiez le mot de passe :<small style="font-style:italic; color:red;"> Obligatoire</small>{{ form_row(form.password.second)}} 
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    {{ form_label(form.user_adresse)}} <small style="font-style:italic; color:red;"> Obligatoire</small>
                    {{ form_widget(form.user_adresse)}}
                </div>
                <div class="form-group">
                    {{ form_label(form.user_complement_adresse)}}
                    {{ form_widget(form.user_complement_adresse)}}
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            {{ form_label(form.user_postal_code)}}
                            {{ form_widget(form.user_postal_code, { 'id': 'postal_code' })}}
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            {{ form_label(form.user_commune)}}
                            {{ form_widget(form.user_commune, { 'id': 'locality' })}}
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            {{ form_label(form.user_pays)}}
                            {{ form_widget(form.user_pays, { 'id': 'country' })}}
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            {{ form_label(form.user_telephone)}}<small style="font-style:italic; color:red;"> - Obligatoire</small>
                            {{ form_widget(form.user_telephone)}}
                        </div>
                    </div>
                </div>
                <div class="form-group text-center">
                    {{ form_widget(form.valider)}}
                </div>
                {{ form_end(form)}}
            {#</form>#}
        </div>
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-4 col-xl-4">
            <aside class="bg-warning  border border-warning border-2 rounded pt-4 pl-4 pr-4 pb-2 mb-4">
                <p class="text-center">
                    <strong>Vous êtes une mairie ou un office de tourisme.</strong>
                </p>
                <p class="text-center">
                    Bénéficiez du service pour :
                </p>            
                    <ul class="list-group">
                        <div class="row align-items-middle mb-3">
                            <div class="col-2">
                                <i class="far fa-check-circle fa-2x mt-2"></i>
                            </div>
                            <div class="col-10">
                                Disposer d'une page personnalisée
                            </div>
                        </div>
                        <div class="row align-items-middle mb-3">
                            <div class="col-2">
                                <i class="far fa-check-circle fa-2x  mt-2"></i>
                            </div>
                            <div class="col-10">
                                Faciliter la déclaration pour les administrés
                            </div>
                        </div>
                        <div class="row align-items-middle mb-3">
                            <div class="col-2">
                                <i class="far fa-check-circle fa-2x  mt-2"></i>
                            </div>
                            <div class="col-10">
                                Télécharger la liste complète des meublés déclarés sur le territoire
                            </div>
                        </div>   
                    </ul>
                <p class="text-center">
                    <strong>
                        Prenez contact avec l'agence !
                    </strong>
                </p>  
                <p class="text-center">
                    <a class="btn btn-danger" href="mailto:contact@alpaconseil.com" role="button">Contact</a>
                </p>
            </aside>
        </div>
    </div>
</div>
{% endblock %}

{% block javascripts %}
<script>

    var placeSearch, autocomplete;
    var componentForm = {
        // street_number: 'short_name',
        // route: 'long_name',
        locality: 'long_name',
        country: 'long_name',
        postal_code: 'short_name'
      };

      function initAutocomplete() {
        autocomplete = new google.maps.places.Autocomplete(
            /** @type {!HTMLInputElement} */(document.getElementById('user_user_adresse')),
            {types: ['geocode']});

        autocomplete.addListener('place_changed', fillInAddress);
      }

      function fillInAddress() {
        var place = autocomplete.getPlace();

        for (var component in componentForm) {
          document.getElementById(component).value = '';
          document.getElementById(component).disabled = false;
        }

        for (var i = 0; i < place.address_components.length; i++) {
          var addressType = place.address_components[i].types[0];
          if (componentForm[addressType]) {
            var val = place.address_components[i][componentForm[addressType]];
            document.getElementById(addressType).value = val;
          }
        }
      }
   
</script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB4ryzwJCu-r-gIFduP2Nb5hmu75Iix2Dg&signed_in=true&libraries=places&callback=initAutocomplete"
        async defer>
</script>

  

{% endblock %}
